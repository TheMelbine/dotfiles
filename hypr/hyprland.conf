########################################################################################
# КОНФИГУРАЦИЯ HYPRLAND от Melbine
########################################################################################

# Переменные окружения
env = QT_QPA_PLARFORM,wayland
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_LOGGING_RULES,qt6ct.debug=true
env = XCURSOR_SIZE,24

# Конфигурация монитора
monitor=DP-4,3440x1440@144,0x0,1

# Автозапуск приложений
exec-once = ags
exec-once = hyprpaper
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = hyprPaperRand -f ~/Wallpaper/ -t 3600

# Настройки окон
windowrulev2 = stayfocused, title:^()$,class:^(steam)$
windowrulev2 = minsize 1 1, title:^()$,class:^(steam)$
windowrulev2 = nomaximizerequest, class:.*
windowrulev2 = stayfocused, class:^1Password$, title:^Quick Access — 1Password$
windowrulev2 = windowdance, class:^1Password$, title:^Quick Access — 1Password$

# Ярлыки приложений
$terminal = kitty
$fileManager = dolphin
$menu = fuzzel

# Ввод
input {
    kb_layout = us,ru
    kb_options = grp:alt_shift_toggle
    follow_mouse = 1
    sensitivity = 0
}

# Общие настройки
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 1
    col.active_border = rgba(FF8294AA)
    layout = dwindle
    allow_tearing = false
}

# Оформление
decoration {
    rounding = 10
    blur {
        enabled = true
        size = 4
        passes = 6
    }
    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}

# Анимации
animations {
    enabled = yes
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# Раскладка Dwindle
dwindle {
    pseudotile = yes
    split_width_multiplier = 1.25
    force_split = 2
    preserve_split = yes
}

# Раскладка Master
master {
    new_is_master = true
}

# Прочие настройки
misc {
    disable_splash_rendering = false
    disable_hyprland_logo = true
    vrr = 2
    force_default_wallpaper = 0
}

# Настройки устройства
device:epic-mouse-v1 {
    sensitivity = -0.5
}

# Привязки клавиш
$mainMod = SUPER
bind = $mainMod, return, exec, $terminal
bind = $mainMod, Q, killactive
bind = $mainMod, E, exit
bind = $mainMod, G, exec, $fileManager
bind = $mainMod, O, exec, fuzzmoji
bind = $mainMod, V, togglefloating
bind = $mainMod, D, exec, $menu
bind = $mainMod, P, pseudo
bind = $mainMod, Y, togglesplit
bind = $mainMod, F, fullscreen
bind = $mainMod, M, exec, grimblast --freeze copy area
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j,movefocus, d

# Переключение рабочих пространств
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Перемещение окон на рабочее пространство
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

# Специальное рабочее пространство (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspacesilent, special:magic

# Прокрутка рабочих пространств
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Управление окнами с мышью
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

